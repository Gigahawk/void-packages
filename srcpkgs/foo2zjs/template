# Template file for 'foo2zjs'
pkgname=foo2zjs
version=20171202
revision=1
wrksrc=foo2zjs
build_style=gnu-makefile
hostmakedepends="pkg-config ghostscript groff"
makedepends="ghostscript foomatic-db-engine"
depends="ghostscript foomatic-db-engine"
short_desc="Collection of print drivers by rkkda.com"
maintainer="Jasper Chan <jasperchan515@gmail.com>"
license=GPL-2.0-or-later
homepage="foo2zjs.rkkda.com"
distfiles="http://foo2zjs.rkkda.com/foo2zjs.tar.gz"
checksum=df60985d6bc06fdea029e62d200f9f20b4026a8b4e11d39144636c75dc8b3d5b

pre_install() {
	# Makefile looks for foomatic install
	mkdir -p ${DESTDIR}/usr/share/foomatic/db/source/
}

do_install() {
	# Makefile doesn't respect DESTDIR
	make STRIP=true PREFIX=${DESTDIR}/usr DESTDIR=${DESTDIR}/usr \
		FOODB=${DESTDIR}/usr/share/foomatic/db/source/ ${make_install_args} \
		install
}

